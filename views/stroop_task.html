{% extends "base.html" %}

{% block title %}Stroop Task | Dark Triad Personality Assessments{% endblock %}

{% block content %}
<section id="stroopTask">
    <h2>Stroop Task</h2>
    <div id="stroopInstructions">
        <p>Test your cognitive flexibility with the Stroop Task. This classic psychological test measures your ability to process conflicting information.</p>
        <p>In this task, you will be presented with a series of color words (e.g., "red", "blue", "green") displayed in different font colors. Your goal is to identify the font color of each word, ignoring the meaning of the word itself.</p>
        <p>For example, if the word "red" is displayed in a blue font color, the correct answer would be "blue".</p>
        <p>The task will become increasingly challenging as you progress, with the font colors and word meanings becoming more incongruent. This tests your ability to inhibit your automatic response (reading the word) and focus on the relevant information (the font color).</p>
        <p>To begin the Stroop Task, click the "Start" button below. You will have a limited time to respond to each word, so try to answer as quickly and accurately as possible. Your reaction time and accuracy will be measured and displayed at the end of the task.</p>
        <p>Good luck!</p>
        <button type="button" onclick="startStroopTask()" aria-label="Begin Stroop Task" class="btn btn-primary mt-3">Start Stroop Task</button>
    </div>
    <div id="stroopGame" class="hidden" aria-hidden="true">
        <div id="stroopWord" class="text-center mt-5 display-1"></div>
        <div id="stroopButtons" class="text-center mt-4">
            <button type="button" onclick="selectColor('red')" class="btn btn-danger mr-3">Red</button>
            <button type="button" onclick="selectColor('blue')" class="btn btn-primary mr-3">Blue</button>
            <button type="button" onclick="selectColor('green')" class="btn btn-success">Green</button>
        </div>
        <div id="stroopProgress" class="mt-4">
            <div class="progress">
                <div class="progress-bar initial-progress" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
            </div>
            <p class="text-center mt-2">Time remaining: <span id="timeRemaining">60</span> seconds</p>
        </div>
    </div>
    <div id="stroopResults" class="hidden text-center mt-5" aria-hidden="true">
        <h3>Stroop Task Results</h3>
        <p class="mt-3">Accuracy: <span id="accuracyScore"></span>%</p>
        <p>Average Reaction Time: <span id="avgReactionTime"></span> ms</p>
        <button type="button" onclick="restartStroopTask()" class="btn btn-primary mt-4">Restart Task</button>
    </div>
</section>
{% endblock %}