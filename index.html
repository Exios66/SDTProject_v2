<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta name="description" content="Comprehensive Dark Triad Personality Assessments including SDT3, Dirty Dozen, SDT4, MACH IV, MMPI-style, HEXACO, and OCEAN tests."/>
    <meta name="keywords" content="Dark Triad, Personality Assessment, Machiavellianism, Narcissism, Psychopathy, Sadism, HEXACO, OCEAN, Big Five"/>
    <meta name="author" content="Dark Triad Research Team"/>
    <meta name="robots" content="index, follow"/>
    <!-- Remove the unsupported meta tag for theme-color -->
    <title>Dark Triad Personality Assessments | Comprehensive Psychological Evaluation</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="favicon.ico" type="image/x-icon"/>
    <link rel="apple-touch-icon" href="logo192.png"/>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js" integrity="sha384-5JvA3+FaQ0/kLZYrP0tC7YSYgzEjJD/OYdBgbXNFrWk6xyl5Aq6z+1Xv9QZC3Ck2" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/9.4.4/math.min.js" integrity="sha512-OZ4XOB5picking+/tKTkZLFnZjWVX6JGvKYuZHhZz8fhM4VlRQZyK5vv5aGgH9IQN/6Fv0ZBxA8XzvPnZ/XTb0g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script>
        console.log('HTML head script running');
        window.addEventListener('DOMContentLoaded', (event) => {
            console.log('DOM fully loaded and parsed');
            if (typeof initializeApp === 'function') {
                console.log('initializeApp function exists');
                initializeApp();
            } else {
                console.error('initializeApp function not found');
            }
        });
        function setThemeColor(isDark) {
            document.querySelector('meta[name="theme-color"]').setAttribute('content', isDark ? '#1c5880' : '#2980b9');
        }
        setThemeColor(window.matchMedia('(prefers-color-scheme: dark)').matches);
        window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
            setThemeColor(e.matches);
        });
    </script>
    <style>
        @media (prefers-color-scheme: dark) {
            body { background-color: #2980b9; }
        }
    </style>
</head>
<body>
    <header>
        <h1>Dark Triad Personality Assessments</h1>
        <button id="darkModeToggle" type="button" aria-label="Toggle dark mode">ðŸŒ™</button>
    </header>
    <nav id="mainNav" aria-label="Main Navigation">
        <ul>
            <li><a href="#sdt3" aria-label="Navigate to Short Dark Triad Assessment">SDT3</a></li>
            <li><a href="#dirtyDozen" aria-label="Navigate to Dirty Dozen Assessment">Dirty Dozen</a></li>
            <li><a href="#sdt4" aria-label="Navigate to Short Dark Tetrad Assessment">SDT4</a></li>
            <li><a href="#machIV" aria-label="Navigate to MACH IV Assessment">MACH IV</a></li>
            <li><a href="#mmpi" aria-label="Navigate to MMPI-style Assessment">MMPI-style</a></li>
            <li><a href="#hexaco" aria-label="Navigate to HEXACO Assessment">HEXACO</a></li>
            <li><a href="#ocean" aria-label="Navigate to OCEAN Assessment">OCEAN</a></li>
        </ul>
    </nav>
    <main>
        <section id="assessments">
            <div id="sdt3" class="assessment">
                <h2>Short Dark Triad (SDT3)</h2>
                <p>The SDT3 assesses three personality traits: Machiavellianism, Narcissism, and Psychopathy. This concise test provides insights into manipulative tendencies, self-aggrandizement, and callousness.</p>
                <button onclick="startAssessment('sdt3')" aria-label="Begin Short Dark Triad Assessment">Start SDT3 Assessment</button>
            </div>
            <div id="dirtyDozen" class="assessment">
                <h2>Dirty Dozen</h2>
                <p>The Dirty Dozen is a brief measure of the Dark Triad personality traits. It efficiently captures Machiavellianism, Narcissism, and Psychopathy using only 12 items.</p>
                <button type="button" onclick="startAssessment('dirtyDozen')" aria-label="Begin Dirty Dozen Assessment">Start Dirty Dozen Assessment</button>
            </div>
            <div id="sdt4" class="assessment">
                <h2>Short Dark Tetrad (SDT4)</h2>
                <p>The SDT4 measures four dark personality traits: Machiavellianism, Narcissism, Psychopathy, and Sadism. This expanded version includes the often-overlooked trait of everyday sadism.</p>
                <button type="button" onclick="startAssessment('sdt4')" aria-label="Begin Short Dark Tetrad Assessment">Start SDT4 Assessment</button>
            </div>
            <div id="machIV" class="assessment">
                <h2>MACH IV</h2>
                <p>The MACH IV is a comprehensive test of Machiavellianism, measuring a person's willingness to manipulate others. It delves deep into strategic social conduct and cynical worldview.</p>
                <button type="button" onclick="startAssessment('machIV')" aria-label="Begin MACH IV Assessment">Start MACH IV Assessment</button>
            </div>
            <div id="mmpi" class="assessment">
                <h2>MMPI-style Assessment</h2>
                <p>This assessment focuses on psychiatric disorder traits, drawing inspiration from the Minnesota Multiphasic Personality Inventory. It explores various aspects of personality and potential psychopathology.</p>
                <button type="button" onclick="startAssessment('mmpi')" aria-label="Begin MMPI-style Assessment">Start MMPI-style Assessment</button>
            </div>
            <div id="hexaco" class="assessment">
                <h2>HEXACO Personality Assessment</h2>
                <p>This assessment measures six personality traits: Honesty-Humility, Emotionality, Extraversion, Agreeableness, Conscientiousness, and Openness to Experience. HEXACO provides a comprehensive view of personality structure.</p>
                <button type="button" onclick="startAssessment('hexaco')" aria-label="Begin HEXACO Assessment">Start HEXACO Assessment</button>
            </div>
            <div id="ocean" class="assessment">
                <h2>OCEAN (Big Five) Personality Assessment</h2>
                <p>This assessment measures five personality traits: Openness, Conscientiousness, Extraversion, Agreeableness, and Neuroticism. The OCEAN model is widely used in psychological research and provides a broad overview of personality.</p>
                <button type="button" onclick="startAssessment('ocean')" aria-label="Begin OCEAN Assessment">Start OCEAN Assessment</button>
            </div>
        </section>

        <div id="progressBarContainer" class="hidden" aria-hidden="true">
            <div id="progressBar" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0"></div>
        </div>

        <section id="assessmentQuestions" class="hidden" aria-hidden="true"></section>

        <section id="results" class="hidden" aria-hidden="true"></section>

        <canvas id="resultsChart" class="hidden" aria-hidden="true"></canvas>

        <section id="stroopTask">
            <h2>Stroop Task</h2>
            <div id="stroopInstructions">
                <p>Test your cognitive flexibility with the Stroop Task. This classic psychological test measures your ability to process conflicting information.</p>
                <button onclick="startStroopTask()" aria-label="Begin Stroop Task">Start Stroop Task</button>
            </div>
            <div id="stroopGame" class="hidden" aria-hidden="true"></div>
            <div id="stroopResults" class="hidden" aria-hidden="true"></div>
        </section>

        <section id="psychometric"></section>

        <section id="background">
            <h2>Background Information</h2>
            <p>The Dark Triad and related personality assessments are crucial tools in understanding complex personality traits. These tests help identify tendencies towards manipulation, self-promotion, emotional coldness, and other characteristics associated with antisocial behavior.</p>
            <p>While these traits are often viewed negatively, research suggests they may also contribute to success in certain fields, such as business and politics. It's important to approach these assessments with an open mind and remember that personality is complex and multifaceted.</p>
        </section>
    </main>

    <div id="menuStateAnnouncement" class="visually-hidden" aria-live="polite"></div>

    <div id="interpretationModal" class="modal hidden" aria-hidden="true">
        <div class="modal-content" role="dialog" aria-labelledby="interpretationTitle">
            <h2 id="interpretationTitle">Result Interpretation</h2>
            <button class="close" onclick="closeInterpretationModal()" aria-label="Close interpretation modal">&times;</button>
            <div id="interpretationContent"></div>
        </div>
    </div>

    <div id="articlesModal" class="modal hidden" aria-hidden="true">
        <div class="modal-content" role="dialog" aria-labelledby="articlesTitle">
            <h2 id="articlesTitle">Scientific Articles</h2>
            <button class="close" onclick="closeModal()" aria-label="Close articles modal">&times;</button>
            <ul id="articlesList"></ul>
        </div>
    </div>

    <footer>
        <p>&copy; 2023 Dark Triad Research Team. All rights reserved.</p>
        <nav aria-label="Footer Navigation">
            <ul>
                <li><a href="#privacy">Privacy Policy</a></li>
                <li><a href="#terms">Terms of Service</a></li>
                <li><a href="#contact">Contact Us</a></li>
            </ul>
        </nav>
    </footer>

    <script src="script.js"></script>
    <script>
        console.log('Bottom of body script running');
        if (typeof initializeApp === 'function') {
            console.log('initializeApp function exists at bottom of body');
            window.addEventListener('load', initializeApp);
        } else {
            console.error('initializeApp function not found at bottom of body');
        }
    </script>
</body>
</html>